=  Добавление секции

. Откройте настройки карточки ([.ph .menucascade]#*Edit* > *Card Properties*#).
. Вызовите команду *New Section* из контекстного меню узла *Sections* в дереве объектов.
+
В *Sections* будет добавлена новая запись.
. Выберите добавленную секцию в дереве объектов.
+
image::cardmanager_newsection.png[CardManager. Добавление секции]
. Введите псевдоним секции в поле *Псевдоним*.
+
Псевдоним секции должен отвечать следующим требованиям: отличаться от псевдонима карточки, быть уникальным в рамках карточки, содержать только латинские символы, не содержать пробелы.
. Введите локализованные названия секции в таблице *Названия*.
. Если необходимо, измените уникальный идентификатор секции в поле *Идентификатор*.
. Выберите тип секции в списке *Тип*:#
* "struct" – секция позволяет хранить данные одного набора полей (строки секции);
* "table" – секция позволяет хранить данные одного или нескольких несвязанных наборов полей (строк секции);
* "tree" – секция позволяет хранить данные одного или нескольких связанных или несвязанных наборов полей (строк секции). Строки связываются по принципу родитель-потомок. Все строки имеют идентичный набор полей – аналогично типу "table".

Следующие шаги 8-11 могут быть выполнены только после xref:cardmanager_createcard_createfield.adoc[добавления полей] в секцию.

[start=8]
. Если секция является секцией свойств, установите флаг *Содержит свойства карточки* и настройте атрибуты.
+
[NOTE]
====
[.note__title]#Note:# Секция свойств – это специальный вид секций, содержащих ряд предопределённых полей, которые могут выступать в качестве пользовательских атрибутов карточки (свойств). Платформа позволяет обрабатывать свойства карточки специальным образом – например, выводить их в представления или синхронизировать их значения со свойствами файлов Office.
====
+
При отметке какой-либо секции как _содержащей свойства_, необходимо указать ключевые поля этой секции:

* *Имя* – поле, содержащее название свойства (строка);
* *Значение* – поле, содержащее значение свойства (чаще всего – variant);
* *Отображаемое* – поле, содержащее отображаемое значение свойства (строка);
* *Тип* – поле, определяющее тип свойства (перечисляемое).
. Выберите поля, из которых составляются описания (дайджесты) строк секции, в списке *Поля для отображения строки*.
+
Значения указанных полей приводятся к строчному выражению, объединяются в порядке их описания и отделяются друг от друга пробелом. Например, секция содержит данные о сотрудниках организации и имеет несколько полей, среди которых есть _Name_ (имя), _SurName_ (фамилия) и _MiddleName_ (отчество). В этом случае, если выбрать эти три поля в качестве полей для отображения строки, то во всех элементах управления выбранная строка данной секции будет отображаться как _Фамилия Имя Отчество_.
. Выберите поля секции, по которым выполняется сортировка строк при обращении к данным секции, в списке *Поля для сортировки*.
+
Для конкретного поля может быть выбрана прямая или обратная сортировка. Сортировка производится в порядке следования этих полей в описании.
. Добавьте поля, для которых должна быть обеспечена уникальность или индексация, в таблицу *Индексы и ограничения*.
+
Возможные типы ограничений, обеспечивающих уникальность, и способов индексации:

* *Unique globally* – значение поля (или набора полей) уникально в рамках сервера {dv};
* *Unique within card* – значение поля (или набора полей) уникально в рамках экземпляра карточки;
* *Unique within section* – значение поля (или набора полей) уникально в рамках секции;
* *Unique within tree* – значение поля (или набора полей) уникально в рамках всех уровней иерархической секции;
* *Clustered index* – по полю строится кластерный индекс;
* *Nonclustered index* – по полю строится некластерный индекс;
* *Unique clustered index* – по полю строится уникальный кластерный индекс;
* *Unique nonclustered index* – по полю строится уникальный некластерный индекс.
. Настройте дополнительные параметры секции:#
* *Допускает одновременный доступ* – разрешает одновременную работу нескольких пользователей с данными секции (чаще всего этот признак устанавливается для справочников и требует отказа от блокировки карточки).
* *Исключить из поиска* – скрывает поля секции из диалога поиска.
* *Из раздела могут быть выбраны строки* – включает/выключает возможность выбора строк из секции (чаще всего этот признак устанавливается для секций справочников).
* *Запись событий в журнал необязательна* – блокирует запись сообщений об изменении строк секции в системный журнал.
+
[NOTE]
====
[.note__title]#Note:# Для повышения производительности рекомендуется устанавливать данный признак для секций, с которыми производится интенсивная работа (например, для секций с данными журналирования).
====
* *Не копировать данные раздела* – включает/выключает режим, при котором при копировании карточки в копию не будут копироваться строки данной секции.
* *Секция защищенная* – указывает, что у строк секции есть собственные дескрипторы безопасности;
* *Элементы неудаляемые* – запрещает удалять строки из секции.
* *Не редактировать строки с иного сервера* – запрещает изменять строки секции, созданные на другом сервере. Используется Модулем репликации справочников.
* *Не изменять дочерние строки с иного сервера* – запрещает изменять строки подсекций, созданных на другом сервере. Используется Модулем репликации справочников.
* *Секция использует общее хранилище* – включает/выключает оптимизацию, при которой для нескольких плоских секций одного уровня в БД будет создана общая таблица.
+
[NOTE]
====
[.note__title]#Note:# Для использования данной оптимизации, признак *Секция использует общее хранилище* следует устанавливать у нескольких секций одного уровня.
====
