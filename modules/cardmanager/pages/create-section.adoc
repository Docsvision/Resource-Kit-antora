= Добавление секции

. Откройте настройки карточки (menu:Edit[Card Properties]).
. Вызовите команду _New Section_ из контекстного меню узла _Sections_ в дереве объектов.
. Выберите добавленную секцию в дереве объектов.
+
.CardManager -- Добавление секции
image::user:new-section.png[CardManager -- Добавление секции]
+
. Введите псевдоним секции в поле _Псевдоним_.
+
Псевдоним секции должен отвечать следующим требованиям: отличаться от псевдонима карточки, быть уникальным в рамках карточки, содержать только латинские символы, не содержать пробелы.
+
. Введите локализованные названия секции в таблице _Названия_.
. Если необходимо, измените уникальный идентификатор секции в поле _Идентификатор_.
. Выберите тип секции в списке _Тип_:
+
* *_struct_* -- секция позволяет хранить данные одного набора полей (строки секции).
* *_table_* -- секция позволяет хранить данные одного или нескольких несвязанных наборов полей (строк секции).
* *_tree_* -- секция позволяет хранить данные одного или нескольких связанных или несвязанных наборов полей (строк секции). Строки связываются по принципу родитель-потомок. Все строки имеют идентичный набор полей -- аналогично типу *_table_*.

****
Следующие шаги могут быть выполнены только после xref:cardmanager/create-field.adoc[добавления полей] в секцию.
****

[start=8]
. Если секция является секцией свойств, установите флаг `*Содержит свойства карточки*` и настройте атрибуты.
+
[NOTE]
====
Секция свойств -- это специальный вид секций, содержащих ряд предопределённых полей, которые могут выступать в качестве пользовательских атрибутов карточки (свойств). {pl} позволяет обрабатывать свойства карточки специальным образом -- например, выводить их в представления или синхронизировать их значения со свойствами файлов Office.
====
+
При отметке какой-либо секции как _содержащей свойства_, необходимо указать ключевые поля этой секции:
+
* _Имя_ -- поле, содержащее название свойства (строка).
* _Значение_ -- поле, содержащее значение свойства (чаще всего -- variant).
* _Отображаемое_ -- поле, содержащее отображаемое значение свойства (строка).
* _Тип_ -- поле, определяющее тип свойства (перечисляемое).
+
. Выберите поля, из которых составляются описания (дайджесты) строк секции, в списке _Поля для отображения строки_.
+
Значения указанных полей приводятся к строчному выражению, объединяются в порядке их описания и отделяются друг от друга пробелом. Например, секция содержит данные о сотрудниках организации и имеет несколько полей, среди которых есть _Name_ (имя), _SurName_ (фамилия) и _MiddleName_ (отчество).
+
Если выбрать эти три поля в качестве полей для отображения строки, то во всех элементах управления выбранная строка данной секции будет отображаться как _Фамилия Имя Отчество_.
+
. Выберите поля секции, по которым выполняется сортировка строк при обращении к данным секции, в списке _Поля для сортировки_.
+
Для конкретного поля может быть выбрана прямая или обратная сортировка. Сортировка производится в порядке следования этих полей в описании.
+
. Добавьте поля, для которых должна быть обеспечена уникальность или индексация, в таблицу _Индексы и ограничения_.
+
.Возможные типы ограничений, обеспечивающих уникальность, и способов индексации:
* _Unique globally_ -- значение поля (или набора полей) уникально в рамках сервера {dv}.
* _Unique within card_ -- значение поля (или набора полей) уникально в рамках экземпляра карточки.
* _Unique within section_ -- значение поля (или набора полей) уникально в рамках секции.
* _Unique within tree_ -- значение поля (или набора полей) уникально в рамках всех уровней иерархической секции.
* _Clustered index_ -- по полю строится кластерный индекс.
* _Nonclustered index_ -- по полю строится некластерный индекс.
* _Unique clustered index_ -- по полю строится уникальный кластерный индекс.
* _Unique nonclustered index_ -- по полю строится уникальный некластерный индекс.
+
. Настройте дополнительные параметры секции:
+
* `*Допускает одновременный доступ*` -- разрешает одновременную работу нескольких пользователей с данными секции (чаще всего этот признак устанавливается для справочников и требует отказа от блокировки карточки).
* `*Исключить из поиска*` -- скрывает поля секции из диалога поиска.
* `*Из раздела могут быть выбраны строки*` -- включает/выключает возможность выбора строк из секции (чаще всего этот признак устанавливается для секций справочников).
* `*Запись событий в журнал необязательна*` -- блокирует запись сообщений об изменении строк секции в системный журнал.
+
[NOTE]
====
Для повышения производительности рекомендуется устанавливать данный признак для секций, с которыми производится интенсивная работа (например, для секций с данными журналирования).
====
* `*Не копировать данные раздела*` -- включает и выключает режим, при котором при копировании карточки в копию не будут копироваться строки данной секции.
* `*Секция защищенная*` -- указывает, что у строк секции есть собственные дескрипторы безопасности;
* `*Элементы неудаляемые*` -- запрещает удалять строки из секции.
* `*Не редактировать строки с иного сервера*` -- запрещает изменять строки секции, созданные на другом сервере. Используется Модулем репликации справочников.
* `*Не изменять дочерние строки с иного сервера*` -- запрещает изменять строки подсекций, созданных на другом сервере. Используется Модулем репликации справочников.
* `*Секция использует общее хранилище*` -- включает и выключает оптимизацию, при которой для нескольких плоских секций одного уровня в БД будет создана общая таблица.
+
[NOTE]
====
Для использования данной оптимизации, признак `*Секция использует общее хранилище*` следует устанавливать у нескольких секций одного уровня.
====
